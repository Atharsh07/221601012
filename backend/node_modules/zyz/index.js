const express = require('express');
const shortenerRoutes = require('./routes/shortener');
const logger = require('./middleware/logger');

const app = express();
const PORT = 3000;

app.use(express.json());
app.use(logger); // custom logging middleware

app.use('/', shortenerRoutes);

// Global error handler
app.use((err, req, res, next) => {
  console.error('Error:', err.message);
  res.status(err.status || 500).json({ error: err.message || 'Internal Server Error' });
});

app.listen(PORT, () => {
  console.log(`Server running on http://localhost:${PORT}`);
});

mkdir url-shortener-backend && cd url-shortener-backend
npm init -y
npm install express nanoid


url-shortener-backend/
├── index.js
├── routes/
│   └── shortener.js
├── middleware/
│   ├── logger.js
│   └── errorHandler.js
├── utils/
│   └── codeGenerator.js
└── store.js


npx create-react-app url-shortener-frontend
cd url-shortener-frontend
npm install @mui/material @emotion/react @emotion/styled axios


src/
├── components/
│   ├── URLFormRow.js
│   └── ShortenResults.js
├── pages/
│   ├── ShortenerPage.js
│   └── StatsPage.js
├── App.js
├── index.js
└── logger.js


Your backend must expose a GET /stats endpoint that returns an array of objects like:

json
Copy
Edit
[
  {
    "originalUrl": "https://example.com",
    "shortUrl": "http://localhost:3000/abc123",
    "createdAt": "2025-07-05T10:30:00.000Z",
    "expiresAt": "2025-07-05T11:00:00.000Z",
    "clicks": 5
  }
]
